{"version":3,"sources":["App.js","index.js"],"names":["CrossLine","props","audio","Audio","this","styles","play","className","React","Component","BtnImg","src","imgSrc","alt","Square","handleButton","bind","e","onclick","value","state","onClick","Board","renderSquare","i","index","parentState","pointer","movementsHistiry","length","currentState","GameInfo","renderListItem","handlerButton","target","dataset","winner","player","Array","quantity","fill","map","item","Game","gameOverFlag","isNextX","clickHendlerSquare","jumpTo","currentStateHistory","concat","slice","push","squares","combination","a","b","c","style","calculateWinner","setState","currentPointer","parseInt","appliedStyle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.10e2bbf6.chunk.js","sourcesContent":["import React from 'react';\n/* import './App.css'; */\nimport './css/app.css';\n\nfunction calculateWinner(squares) {\n  const combinations = [\n    [0, 1, 2,'crossLine__horizontal crossLine__horizontal-top'],\n    [3, 4, 5,'crossLine__horizontal crossLine__horizontal-center'],\n    [6, 7, 8,'crossLine__horizontal crossLine__horizontal-bottom'],\n    [0, 4, 8,'crossLine__oblique crossLine__oblique-top-bottom'],\n    [2, 4, 6,'crossLine__oblique crossLine__oblique-bottom-top'],\n    [0, 3, 6,'crossLine__vertical crossLine__vertical-left'],\n    [1, 4, 7,'crossLine__vertical crossLine__vertical-center'],\n    [2, 5, 8,'crossLine__vertical crossLine__vertical-right']\n  ];\n\n  for (let combination of combinations) {\n    let [a, b, c, style] = combination;\n    if (squares[a] === squares[b] && squares[b]===squares[c]){\n      if(squares[a]!=='') return {winner:squares[a],styles:style};\n    }\n  }\n  return {winner:null,styles:null};\n}\n\nclass CrossLine extends React.Component{\n  constructor(props){\n    super(props);\n    this.audio = new Audio('cross-out.mp3');\n  }\n  render(){\n    if(this.props.styles!== null) this.audio.play();\n    return(\n      <div className={\"crossLine \"+this.props.styles}></div>\n    );\n  }\n}\n\nclass Canvas extends React.Component{\n  render(){\n    \n    return(\n      <canvas className=\"canvas\"></canvas>\n    );\n  }\n}\n\nclass BtnImg extends React.Component {\n  render() {\n    return (\n      <img src={this.props.imgSrc} alt=\"\" />\n    );\n  }\n}\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleButton = this.handleButton.bind(this);\n  }\n  handleButton(e) {\n    this.props.onclick(this.props.value)\n  }\n\n  render() {\n    let imgSrc = (this.props.state === '') ? '' : (this.props.state === 1) ? 'tic.png' : 'tac.png';\n    return (\n      <button className=\"square\" onClick={this.handleButton}>\n        <BtnImg state={this.props.state} imgSrc={imgSrc} />\n      </button>\n    );\n  }\n}\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderSquare = this.renderSquare.bind(this);\n  }\n  renderSquare(i) {\n    let history, index;\n    if (this.props.parentState.pointer === -1) {\n      index = this.props.parentState.movementsHistiry.length - 1;\n    } else {\n      index = this.props.parentState.pointer;\n    }\n    history = this.props.parentState.movementsHistiry[index];\n    let currentState = history[i];\n\n    return <Square value={i} state={currentState} onclick={this.props.onclick} />\n  }\n\n  render() {\n    return (\n      <div className=\"game__board\">\n        {this.renderSquare(0)}\n        {this.renderSquare(1)}\n        {this.renderSquare(2)}\n        {this.renderSquare(3)}\n        {this.renderSquare(4)}\n        {this.renderSquare(5)}\n        {this.renderSquare(6)}\n        {this.renderSquare(7)}\n        {this.renderSquare(8)}\n        <CrossLine styles={this.props.styles}/> \n      </div>\n    );\n  }\n}\n\nclass GameInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderListItem = this.renderListItem.bind(this);\n    this.handlerButton = this.handlerButton.bind(this);\n  }\n  handlerButton(e) {\n    if (!e.target.dataset.index) return;\n    this.props.onclick(e.target.dataset.index);\n  }\n  renderListItem(index) {\n    if (index === 0) {\n      return (\n        <li className=\"game__list-item\" key={index}><button className=\"game__list-btn\" data-index={index}>Go to game start!</button></li>\n      );\n    }\n    return (\n      <li  className=\"game__list-item\" key={index}><button className=\"game__list-btn\" data-index={index}>Go to move #{index}</button></li>\n    );\n  }\n  render() {\n    return (\n      <div className=\"game__info\">\n        {this.props.winner===null && <h2 className=\"game__info-title\">Next player: {this.props.player ? 'X' : '0'}</h2>}\n        {this.props.winner===0 && <h2 className=\"game__info-title\">Winner: 0</h2>}\n        {this.props.winner===1 && <h2 className=\"game__info-title\">Winner: X</h2>}\n\n        <ul className=\"game__list\" onClick={this.handlerButton}>\n          {(Array(this.props.quantity).fill(0)).map((item, index) => this.renderListItem(index))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.gameOverFlag = null;\n    this.styles=null;\n    this.state = {\n      isNextX: true,\n      movementsHistiry: [Array(9).fill('')],\n      pointer: -1,\n    };\n    this.clickHendlerSquare = this.clickHendlerSquare.bind(this);\n    this.jumpTo = this.jumpTo.bind(this);\n  }\n  clickHendlerSquare(index) {\n    if(this.gameOverFlag!==null && this.state.pointer === -1) return;\n    let length = this.state.pointer === -1 ? this.state.movementsHistiry.length : (this.state.pointer + 1);\n    let currentStateHistory = [].concat(this.state.movementsHistiry[length - 1]);\n    let movementsHistiry = this.state.movementsHistiry.slice(0, length);\n    if (currentStateHistory[index]!=='') return;\n    currentStateHistory[index] = this.state.isNextX ? 1 : 0;\n    movementsHistiry.push(currentStateHistory);\n    let isNextX = !this.state.isNextX;\n    let{winner, styles}=calculateWinner(currentStateHistory);\n    this.gameOverFlag=winner;\n    this.styles=styles;\n    this.setState({ isNextX: isNextX, movementsHistiry: movementsHistiry, pointer: -1 });\n  }\n\n  jumpTo(index) {\n    let currentPointer =  parseInt(index)===(this.state.movementsHistiry.length-1)?-1:parseInt(index);\n    this.setState({ pointer: currentPointer, isNextX: index % 2 ? false : true });\n  }\n\n  render() {\n    let appliedStyle;\n    if(this.gameOverFlag!==null && this.state.pointer===-1){\n      appliedStyle=this.styles;\n    }else{\n      appliedStyle=null;\n    }\n    return (\n      <div className=\"game\">\n          <h1 className=\"game__title\">Tic tac toe</h1>\n          <Board onclick={this.clickHendlerSquare} parentState={this.state}  styles={appliedStyle}/>\n          <GameInfo quantity={this.state.movementsHistiry.length} onclick={this.jumpTo} player={this.state.isNextX} winner={this.gameOverFlag}/>\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return <Game />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}